@model IEnumerable<BeeMatchingAPP.Models.CongViec>

@{
    ViewBag.Title = "BeeMatching - Công Việc";
    List<CongViec> congvieclist = ViewData["job"] as List<CongViec>;
    Layout = "~/Views/Shared/_Layout.cshtml";

}
<style>
    /* General Reset */
    body {
        margin: 0;
        font-family: 'Arial', sans-serif;
        line-height: 1.6;
        color: #333;
        background-color: #f9f9f9;
    }

    .container {
        width: 90%;
        margin: 0 auto;
        max-width: 1200px;
    }

    /* Hero Section */
    .hero-cap h2 {
        font-size: 3rem;
        color: #fff;
        margin: 0;
    }

    .slider-area {
        position: relative;
        text-align: center;
        color: white;
    }

        .slider-area .single-slider {
            height: 300px;
            display: flex;
            justify-content: center;
            align-items: center;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
        }

    /* Job List Section */
    .count-job span {
        font-size: 1.5rem;
        font-weight: bold;
        margin-bottom: 10px;
        display: block;
    }

    .select-Categories {
        background-color: #fff;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

        .select-Categories h4 {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .select-Categories label {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            cursor: pointer;
        }

        .select-Categories .container {
            position: relative;
            padding-left: 30px;
            margin-bottom: 12px;
            font-size: 1rem;
            user-select: none;
        }

        .select-Categories input {
            position: absolute;
            opacity: 0;
            cursor: pointer;
        }

        .select-Categories .checkmark {
            position: absolute;
            top: 0;
            left: 0;
            height: 20px;
            width: 20px;
            background-color: #eee;
            border-radius: 4px;
        }

        .select-Categories input:checked ~ .checkmark {
            background-color: #007bff;
        }

        .select-Categories .checkmark:after {
            content: '';
            position: absolute;
            display: none;
        }

        .select-Categories input:checked ~ .checkmark:after {
            display: block;
        }

        .select-Categories .checkmark:after {
            left: 8px;
            top: 4px;
            width: 4px;
            height: 8px;
            border: solid white;
            border-width: 0 2px 2px 0;
            transform: rotate(45deg);
        }

    .input-group {
        margin-top: 20px;
        display: flex;
    }

        .input-group input {
            border: 1px solid #ddd;
            padding: 10px;
            border-radius: 4px 0 0 4px;
            width: 80%;
        }

        .input-group button {
            background-color: #007bff;
            border: none;
            color: #fff;
            padding: 10px 20px;
            border-radius: 0 4px 4px 0;
            cursor: pointer;
        }

            .input-group button:hover {
                background-color: #0056b3;
            }

    /* Job Item */
    .single-job-items {
        background-color: #fff;
        border: 1px solid #ddd;
        border-radius: 8px;
        overflow: hidden;
        margin-bottom: 20px;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        height: 100%;
    }

        .single-job-items:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

    .company-img img {
        width: 100%;
        height: 150px;
        object-fit: cover;
        border-bottom: 1px solid #ddd;
    }

    .job-tittle {
        padding: 15px;
        flex-grow: 1;
    }

        .job-tittle h6 {
            font-size: 1rem;
            font-weight: 600;
            margin: 10px 0;
            color: #333;
        }

        .job-tittle ul {
            padding: 0;
            margin: 0;
            list-style: none;
        }

            .job-tittle ul li {
                font-size: 0.9rem;
                margin-bottom: 5px;
                color: #666;
            }

    .items-link {
        padding: 15px;
        text-align: right;
        background-color: #f7f7f7;
    }

        .items-link a {
            color: #007bff;
            font-size: 0.9rem;
            text-decoration: none;
            font-weight: bold;
        }

            .items-link a:hover {
                text-decoration: underline;
            }

        .items-link span {
            display: block;
            font-size: 0.8rem;
            margin-top: 5px;
            color: #aaa;
        }

</style>





<!-- Hero Area Start-->
<div class="slider-area ">
    <div class="single-slider section-overly slider-height2 d-flex align-items-center" data-background="~/assets/img/hero/about.jpg">
        <div class="container">
            <div class="row">
                <div class="col-xl-12">
                    <div class="hero-cap text-center">
                        <h2>Tìm kiếm công việc của bạn ngay bây giờ!</h2>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

                    </div>
<!-- Right content -->
<div class="col-xl-12 col-lg-9 col-md-8">
    <!-- Featured_job_start -->
    <section class="featured-job-area">
        <div class="container">
            <!-- Count of Job list Start -->
            <div class="row">
                <div class="col-lg-12">
                    <div class="count-job mb-35">

                        <!-- select-Categories start -->
                        <form asp-action="CheckBoxDangCongViec" method="post">
                            <div class="select-Categories pt-80 pb-50">
                                <div class="small-section-tittle2">
                                    <h4>Dạng Công Việc</h4>
                                </div>
                                <label class="container">
                                    Full Time
                                    <input type="checkbox" value="full time" name="dangCongViec">
                                    <span class="checkmark"></span>
                                </label>
                                <label class="container">
                                    Part Time
                                    <input type="checkbox" value="part time" name="dangCongViec">
                                    <span class="checkmark"></span>
                                </label>
                                <button class="btn head-btn1" style="margin-top: 10px; width:219px" type="submit">Chọn</button>
                            </div>
                        </form>
                        <!-- select-Categories End -->
                        <!-- Select job items start -->
                        <form asp-action="TimKiemTheoTen" method="get">
                            <div class="input-group">
                                <input style="height: 55px;" type="search" name="search" class="form-control rounded" placeholder="tìm kiếm công việc" aria-label="Search" aria-describedby="search-addon" />
                                <button type="submit" class="btn btn-outline-primary" data-mdb-ripple-init>Tìm kiếm</button>
                            </div>
                        </form>
                        <p><strong>Kết quả tìm được: </strong>@ViewBag.JobCount</p>
                        <!--  Select job items End-->
                    </div>
                </div>
                @foreach (var item in congvieclist)
                {
                    <div class="col-md-3 mb-4">
                        <div class="single-job-items mb-30">
                            <div class="job-items">
                                <div class="company-img">
                                    <a asp-action="Details" asp-route-id="@item.CongViecId"><img style="width:200px;height:180px" src="../assets/img/icon/bee.jpg" alt="@item.CongViecId" class="img-fluid rounded-4" /></a>
                                </div> <br />
                                <div class="job-tittle">
                                    <a asp-action="Details" asp-route-id="@item.CongViecId">
                                        <h6 style="font-weight:bold; font-size:22px" class="text-uppercase m-0">@item.TieuDe</h6>
                                    </a>
                                    <br>
                                    <ul>
                                        <li><strong>Mô tả: @item.MoTa</strong> </li>
                                        @*
                                    <li>Hạn nộp hồ sơ: @item.HanNopHoSo.ToString("dd/MM/yyyy")</li>
                                    <li>Lương hàng tháng: @item.LuongHangThang</li>
                                    <li>Trạng thái: @item.TrangThai</li>
                                    <li>Ngày đăng: @item.NgayDang.ToString("dd/MM/yyyy")</li> *@
                                        <li>Vị trí: @item.ViTri</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="items-link f-right">
                                <a asp-action="Details" asp-route-id="@item.CongViecId">@item.DangCongViec</a>
                            </div>
                        </div>
                    </div>
                }
            </div>
            <!-- Count of Job list End -->
            <!-- single-job-content -->
            <!-- single-job-content -->

        </div>
    </section>
    <!-- Featured_job_end -->
</div>

<!-- Job List Area End -->
<!--Pagination Start  -->
<div class="pagination-area pb-115 text-center">
    <div class="container">
        <div class="row">
            <div class="col-xl-12">
                <div class="single-wrap d-flex justify-content-center">
                    <nav aria-label="Page navigation example">
                        <ul class="pagination justify-content-start">
                            <li class="page-item active"><a class="page-link" href="#">01</a></li>
                            <li class="page-item"><a class="page-link" href="#">02</a></li>
                            <li class="page-item"><a class="page-link" href="#">03</a></li>
                            <li class="page-item"><a class="page-link" href="#"><span class="ti-angle-right"></span></a></li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    function selectOnlyThis(checkbox) {
        // Duyệt tất cả các checkbox có cùng name="workType"
        document.querySelectorAll('input[name="dangCongViec"]').forEach(cb => {
            // Nếu không phải checkbox hiện tại, bỏ chọn
            cb.checked = false;
        });
        // Đảm bảo checkbox được chọn
        checkbox.checked = true;
    }
</script>
<!--Pagination End  -->